<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
  <style>
    body{
      background-color: rgb(255, 255, 242);
    }
  </style>
  <title>Produtos</title>
</head>
<body>
  <div class="container-fluid bg-warning" style="display:inline-block; justify-content: right; border-radius: 0.5; text-align: center; width: 90%; margin-left: 0.2cm;">Produtos Disponíveis para Venda</div>
  <button style="display: inline-block; justify-content: right; width: 3cm; border-radius: 2cm;" class="container-fluid bg-warning mt-2" onclick="load()">Pesquisar</button>
</div>
  <hr />
  <div class="container mt-3">
  <table class="table bg-warning" style="align-items: center;">
    <thead>
      <tr>
        <th class="text-center">Nome</th>
        <th class="text-center">Estoque</th>
        <th class="text-center">Preço Varejo</th>
        <th class="text-center">Preço Atacado</th>
      </tr>
    </thead>
    <tbody id="tabel" class="text-center"></tbody>
  </table>
</div>
  <script>
    function load() {
      fetch("http://localhost:3000/produtos")
        .then((x) => x.json())
        .then((y) => display(y));
    }

    function display(dados) {
      var tabela = "";
      for (let i = 0; i < dados.length; i++) {
        tabela += `<tr><td>${dados[i].nome}</td>
             <td>${dados[i].estoque}</td>
             <td>${dados[i].precovar}</td>
             <td>${dados[i].precoatacado}</td></tr>`;
      }
      document.getElementById("tabel").innerHTML = tabela;
    }
    </script>
</body>